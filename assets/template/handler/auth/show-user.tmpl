{{ define "page" }}
{{ template "layout" . }}
{{ end }}

{{ define "title" }}
User Details
{{ end }}

{{ define "content" }}
<div class="space-y-8">
  <h1 class="text-2xl font-bold mb-4">User Details</h1>
  <div class="bg-white shadow overflow-hidden sm:rounded-lg">
    <div class="px-4 py-5 sm:px-6">
      <h3 class="text-lg leading-6 font-medium text-gray-900">
        {{ .Data.Username }}
      </h3>
    </div>
    <div class="border-t border-gray-200">
      <dl>
        
        <div class="bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
          <dt class="text-sm font-medium text-gray-500">Email</dt>
          <dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2">
            {{ .Data.Email }}
          </dd>
        </div>
        
        <div class="bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
          <dt class="text-sm font-medium text-gray-500">Active</dt>
          <dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2">
            <input type="checkbox" {{ if .Data.IsActive }}checked{{ end }} disabled class="form-checkbox h-4 w-4 text-indigo-600 transition duration-150 ease-in-out">
          </dd>
        </div>
        <div class="bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-3 sm:px-6">
          <dt class="text-sm font-medium text-gray-500">Last Login At</dt>
          <dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2">
            {{ if .Data.LastLoginAt }}{{ .Data.LastLoginAt.Format "2006-01-02 15:04:05" }}{{ else }}N/A{{ end }}
          </dd>
        </div>
        <div class="bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
          <dt class="text-sm font-medium text-gray-500">Last Login IP</dt>
          <dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2">
            {{ .Data.LastLoginIP }}
          </dd>
        </div>
        <div class="bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-3 sm:px-6">
          <dt class="text-sm font-medium text-gray-500">Roles</dt>
          <dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2">
            <!-- Roles will be listed here -->
            {{ if .Data.Roles }}
              <ul>
                {{ range .Data.Roles }}
                  <li>{{ .Name }}</li>
                {{ end }}
              </ul>
            {{ else }}
              No roles assigned.
            {{ end }}
          </dd>
        </div>
        <div class="bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
          <dt class="text-sm font-medium text-gray-500">Permissions</dt>
          <dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2">
            <!-- Permissions will be listed here -->
            {{ if .Data.Permissions }}
              <ul>
                {{ range .Data.Permissions }}
                  <li>{{ .Name }}</li>
                {{ end }}
              </ul>
            {{ else }}
              No direct permissions assigned.
            {{ end }}
          </dd>
        </div>
        <div class="bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-3 sm:px-6">
          <dt class="text-sm font-medium text-gray-500">Team Permissions</dt>
          <dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2">
            <!-- Team Permissions will be listed here -->
            {{ if .Data.TeamPermissions }}
              <ul>
                {{ range $teamID, $perms := .Data.TeamPermissions }}
                  <li>Team {{ $teamID }}:
                    <ul>
                      {{ range $perms }}
                        <li>{{ .Name }}</li>
                      {{ end }}
                    </ul>
                  </li>
                {{ end }}
              </ul>
            {{ else }}
              No team permissions assigned.
            {{ end }}
          </dd>
        </div>
      </dl>
    </div>
  </div>
</div>
{{ end }}

{{ define "submenu" }}
{{ template "menu" . }}
{{ end }}
